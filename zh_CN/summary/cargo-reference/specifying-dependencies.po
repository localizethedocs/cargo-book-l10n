msgid ""
msgstr ""
"Project-Id-Version: The Cargo Book\n"
"POT-Creation-Date: 2026-01-24T08:35:52Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/reference/specifying-dependencies.md:1
msgid "Specifying Dependencies"
msgstr ""

#: src/reference/specifying-dependencies.md:3
msgid ""
"Your crates can depend on other libraries from [crates.io](https://crates."
"io/) or other registries, `git` repositories, or subdirectories on your "
"local file system. You can also temporarily override the location of a "
"dependency — for example, to be able to test out a bug fix in the dependency "
"that you are working on locally. You can have different dependencies for "
"different platforms, and dependencies that are only used during development. "
"Let's take a look at how to do each of these."
msgstr ""

#: src/reference/specifying-dependencies.md:11
msgid "Specifying dependencies from crates.io"
msgstr ""

#: src/reference/specifying-dependencies.md:13
msgid ""
"Cargo is configured to look for dependencies on [crates.io](https://crates."
"io/) by default. Only the name and a version string are required in this "
"case. In [the cargo guide](../guide/index.md), we specified a dependency on "
"the `time` crate:"
msgstr ""

#: src/reference/specifying-dependencies.md:17
msgid ""
"```toml\n"
"[dependencies]\n"
"time = \"0.1.12\"\n"
"```"
msgstr ""

#: src/reference/specifying-dependencies.md:22
msgid ""
"The string `\"0.1.12\"` is a version requirement. Although it looks like a "
"specific _version_ of the `time` crate, it actually specifies a _range_ of "
"versions and allows [SemVer](https://semver.org) compatible updates. An "
"update is allowed if the new version number does not modify the left-most "
"non-zero digit in the major, minor, patch grouping. In this case, if we ran "
"`cargo update -p time`, cargo should update us to version `0.1.13` if it is "
"the latest `0.1.z` release, but would not update us to `0.2.0`. If instead "
"we had specified the version string as `1.0`, cargo should update to `1.1` "
"if it is the latest `1.y` release, but not `2.0`. The version `0.0.x` is not "
"considered compatible with any other version."
msgstr ""

#: src/reference/specifying-dependencies.md:34
msgid ""
"Here are some more examples of version requirements and the versions that "
"would be allowed with them:"
msgstr ""

#: src/reference/specifying-dependencies.md:48
msgid ""
"This compatibility convention is different from SemVer in the way it treats "
"versions before 1.0.0. While SemVer says there is no compatibility before "
"1.0.0, Cargo considers `0.x.y` to be compatible with `0.x.z`, where `y ≥ z` "
"and `x > 0`."
msgstr ""

#: src/reference/specifying-dependencies.md:53
msgid ""
"It is possible to further tweak the logic for selecting compatible versions "
"using special operators, though it shouldn't be necessary most of the time."
msgstr ""

#: src/reference/specifying-dependencies.md:56
msgid "Caret requirements"
msgstr ""

#: src/reference/specifying-dependencies.md:58
msgid ""
"**Caret requirements** are an alternative syntax for the default strategy, "
"`^1.2.3` is exactly equivalent to `1.2.3`."
msgstr ""

#: src/reference/specifying-dependencies.md:61
msgid "Tilde requirements"
msgstr ""

#: src/reference/specifying-dependencies.md:63
msgid ""
"**Tilde requirements** specify a minimal version with some ability to "
"update. If you specify a major, minor, and patch version or only a major and "
"minor version, only patch-level changes are allowed. If you only specify a "
"major version, then minor- and patch-level changes are allowed."
msgstr ""

#: src/reference/specifying-dependencies.md:68
msgid "`~1.2.3` is an example of a tilde requirement."
msgstr ""

#: src/reference/specifying-dependencies.md:76
msgid "Wildcard requirements"
msgstr ""

#: src/reference/specifying-dependencies.md:78
msgid ""
"**Wildcard requirements** allow for any version where the wildcard is "
"positioned."
msgstr ""

#: src/reference/specifying-dependencies.md:81
msgid "`*`, `1.*` and `1.2.*` are examples of wildcard requirements."
msgstr ""

#: src/reference/specifying-dependencies.md:89
msgid ""
"**Note**: [crates.io](https://crates.io/) does not allow bare `*` versions."
msgstr ""

#: src/reference/specifying-dependencies.md:91
msgid "Comparison requirements"
msgstr ""

#: src/reference/specifying-dependencies.md:93
msgid ""
"**Comparison requirements** allow manually specifying a version range or an "
"exact version to depend on."
msgstr ""

#: src/reference/specifying-dependencies.md:96
msgid "Here are some examples of comparison requirements:"
msgstr ""

#: src/reference/specifying-dependencies.md:105
msgid "Multiple requirements"
msgstr ""

#: src/reference/specifying-dependencies.md:107
msgid ""
"As shown in the examples above, multiple version requirements can be "
"separated with a comma, e.g., `>= 1.2, < 1.5`."
msgstr ""

#: src/reference/specifying-dependencies.md:110
msgid "Specifying dependencies from other registries"
msgstr ""

#: src/reference/specifying-dependencies.md:112
msgid ""
"To specify a dependency from a registry other than [crates.io](https://"
"crates.io/), first the registry must be configured in a `.cargo/config.toml` "
"file. See the [registries documentation](registries.md) for more "
"information. In the dependency, set the `registry` key to the name of the "
"registry to use."
msgstr ""

#: src/reference/specifying-dependencies.md:117
msgid ""
"```toml\n"
"[dependencies]\n"
"some-crate = { version = \"1.0\", registry = \"my-registry\" }\n"
"```"
msgstr ""

#: src/reference/specifying-dependencies.md:122
msgid ""
"**Note**: [crates.io](https://crates.io/) does not allow packages to be "
"published with dependencies on other registries."
msgstr ""

#: src/reference/specifying-dependencies.md:127
msgid "Specifying dependencies from `git` repositories"
msgstr ""

#: src/reference/specifying-dependencies.md:129
msgid ""
"To depend on a library located in a `git` repository, the minimum "
"information you need to specify is the location of the repository with the "
"`git` key:"
msgstr ""

#: src/reference/specifying-dependencies.md:132
msgid ""
"```toml\n"
"[dependencies]\n"
"regex = { git = \"https://github.com/rust-lang/regex\" }\n"
"```"
msgstr ""

#: src/reference/specifying-dependencies.md:137
msgid ""
"Cargo will fetch the `git` repository at this location then look for a "
"`Cargo.toml` for the requested crate anywhere inside the `git` repository "
"(not necessarily at the root - for example, specifying a member crate name "
"of a workspace and setting `git` to the repository containing the workspace)."
msgstr ""

#: src/reference/specifying-dependencies.md:142
msgid ""
"Since we haven’t specified any other information, Cargo assumes that we "
"intend to use the latest commit on the main branch to build our package. You "
"can combine the `git` key with the `rev`, `tag`, or `branch` keys to specify "
"something else. Here's an example of specifying that you want to use the "
"latest commit on a branch named `next`:"
msgstr ""

#: src/reference/specifying-dependencies.md:148
msgid ""
"```toml\n"
"[dependencies]\n"
"regex = { git = \"https://github.com/rust-lang/regex\", branch = \"next\" }\n"
"```"
msgstr ""

#: src/reference/specifying-dependencies.md:153
msgid ""
"Anything that is not a branch or tag falls under `rev`. This can be a commit "
"hash like `rev = \"4c59b707\"`, or a named reference exposed by the remote "
"repository such as `rev = \"refs/pull/493/head\"`. What references are "
"available varies by where the repo is hosted; GitHub in particular exposes a "
"reference to the most recent commit of every pull request as shown, but "
"other git hosts often provide something equivalent, possibly under a "
"different naming scheme."
msgstr ""

#: src/reference/specifying-dependencies.md:160
msgid ""
"Once a `git` dependency has been added, Cargo will lock that dependency to "
"the latest commit at the time. New commits will not be pulled down "
"automatically once the lock is in place. However, they can be pulled down "
"manually with `cargo update`."
msgstr ""

#: src/reference/specifying-dependencies.md:165
msgid ""
"See [Git Authentication](../appendix/git-authentication.md) for help with "
"git authentication for private repos."
msgstr ""

#: src/reference/specifying-dependencies.md:167
msgid ""
"**Note**: [crates.io](https://crates.io/) does not allow packages to be "
"published with `git` dependencies (`git` [dev-dependencies](#development-"
"dependencies) are ignored). See the [Multiple locations](#multiple-"
"locations) section for a fallback alternative."
msgstr ""

#: src/reference/specifying-dependencies.md:173
msgid "Specifying path dependencies"
msgstr ""

#: src/reference/specifying-dependencies.md:175
msgid ""
"Over time, our `hello_world` package from [the guide](../guide/index.md) has "
"grown significantly in size! It’s gotten to the point that we probably want "
"to split out a separate crate for others to use. To do this Cargo supports "
"**path dependencies** which are typically sub-crates that live within one "
"repository. Let’s start off by making a new crate inside of our "
"`hello_world` package:"
msgstr ""

#: src/reference/specifying-dependencies.md:186
msgid ""
"This will create a new folder `hello_utils` inside of which a `Cargo.toml` "
"and `src` folder are ready to be configured. In order to tell Cargo about "
"this, open up `hello_world/Cargo.toml` and add `hello_utils` to your "
"dependencies:"
msgstr ""

#: src/reference/specifying-dependencies.md:190
msgid ""
"```toml\n"
"[dependencies]\n"
"hello_utils = { path = \"hello_utils\" }\n"
"```"
msgstr ""

#: src/reference/specifying-dependencies.md:195
msgid ""
"This tells Cargo that we depend on a crate called `hello_utils` which is "
"found in the `hello_utils` folder (relative to the `Cargo.toml` it’s written "
"in)."
msgstr ""

#: src/reference/specifying-dependencies.md:198
msgid ""
"And that’s it! The next `cargo build` will automatically build `hello_utils` "
"and all of its own dependencies, and others can also start using the crate "
"as well. However, crates that use dependencies specified with only a path "
"are not permitted on [crates.io](https://crates.io/). If we wanted to "
"publish our `hello_world` crate, we would need to publish a version of "
"`hello_utils` to [crates.io](https://crates.io/) and specify its version in "
"the dependencies line as well:"
msgstr ""

#: src/reference/specifying-dependencies.md:205
msgid ""
"```toml\n"
"[dependencies]\n"
"hello_utils = { path = \"hello_utils\", version = \"0.1.0\" }\n"
"```"
msgstr ""

#: src/reference/specifying-dependencies.md:210
msgid ""
"**Note**: [crates.io](https://crates.io/) does not allow packages to be "
"published with `path` dependencies (`path` [dev-dependencies](#development-"
"dependencies) are ignored). See the [Multiple locations](#multiple-"
"locations) section for a fallback alternative."
msgstr ""

#: src/reference/specifying-dependencies.md:214
msgid "Multiple locations"
msgstr ""

#: src/reference/specifying-dependencies.md:216
msgid ""
"It is possible to specify both a registry version and a `git` or `path` "
"location. The `git` or `path` dependency will be used locally (in which case "
"the `version` is checked against the local copy), and when published to a "
"registry like [crates.io](https://crates.io/), it will use the registry "
"version. Other combinations are not allowed. Examples:"
msgstr ""

#: src/reference/specifying-dependencies.md:222
msgid ""
"```toml\n"
"[dependencies]\n"
"# Uses `my-bitflags` when used locally, and uses\n"
"# version 1.0 from crates.io when published.\n"
"bitflags = { path = \"my-bitflags\", version = \"1.0\" }\n"
"\n"
"# Uses the given git repo when used locally, and uses\n"
"# version 1.0 from crates.io when published.\n"
"smallvec = { git = \"https://github.com/servo/rust-smallvec\", version = "
"\"1.0\" }\n"
"\n"
"# N.B. that if a version doesn't match, Cargo will fail to compile!\n"
"```"
msgstr ""

#: src/reference/specifying-dependencies.md:235
msgid ""
"One example where this can be useful is when you have split up a library "
"into multiple packages within the same workspace. You can then use `path` "
"dependencies to point to the local packages within the workspace to use the "
"local version during development, and then use the [crates.io](https://"
"crates.io/) version once it is published. This is similar to specifying an "
"[override](overriding-dependencies.md), but only applies to this one "
"dependency declaration."
msgstr ""

#: src/reference/specifying-dependencies.md:243
msgid "Platform specific dependencies"
msgstr ""

#: src/reference/specifying-dependencies.md:245
msgid ""
"Platform-specific dependencies take the same format, but are listed under a "
"`target` section. Normally Rust-like [`#[cfg]` syntax](../../reference/"
"conditional-compilation.html) will be used to define these sections:"
msgstr ""

#: src/reference/specifying-dependencies.md:250
msgid ""
"```toml\n"
"[target.'cfg(windows)'.dependencies]\n"
"winhttp = \"0.4.0\"\n"
"\n"
"[target.'cfg(unix)'.dependencies]\n"
"openssl = \"1.0.1\"\n"
"\n"
"[target.'cfg(target_arch = \"x86\")'.dependencies]\n"
"native-i686 = { path = \"native/i686\" }\n"
"\n"
"[target.'cfg(target_arch = \"x86_64\")'.dependencies]\n"
"native-x86_64 = { path = \"native/x86_64\" }\n"
"```"
msgstr ""

#: src/reference/specifying-dependencies.md:264
msgid ""
"Like with Rust, the syntax here supports the `not`, `any`, and `all` "
"operators to combine various cfg name/value pairs."
msgstr ""

#: src/reference/specifying-dependencies.md:267
msgid ""
"If you want to know which cfg targets are available on your platform, run "
"`rustc --print=cfg` from the command line. If you want to know which `cfg` "
"targets are available for another platform, such as 64-bit Windows, run "
"`rustc --print=cfg --target=x86_64-pc-windows-msvc`."
msgstr ""

#: src/reference/specifying-dependencies.md:272
msgid ""
"Unlike in your Rust source code, you cannot use `[target.'cfg(feature = "
"\"fancy-feature\")'.dependencies]` to add dependencies based on optional "
"features. Use [the `[features]` section](features.md) instead:"
msgstr ""

#: src/reference/specifying-dependencies.md:277
msgid ""
"```toml\n"
"[dependencies]\n"
"foo = { version = \"1.0\", optional = true }\n"
"bar = { version = \"1.0\", optional = true }\n"
"\n"
"[features]\n"
"fancy-feature = [\"foo\", \"bar\"]\n"
"```"
msgstr ""

#: src/reference/specifying-dependencies.md:286
msgid ""
"The same applies to `cfg(debug_assertions)`, `cfg(test)` and "
"`cfg(proc_macro)`. These values will not work as expected and will always "
"have the default value returned by `rustc --print=cfg`. There is currently "
"no way to add dependencies based on these configuration values."
msgstr ""

#: src/reference/specifying-dependencies.md:291
msgid ""
"In addition to `#[cfg]` syntax, Cargo also supports listing out the full "
"target the dependencies would apply to:"
msgstr ""

#: src/reference/specifying-dependencies.md:294
msgid ""
"```toml\n"
"[target.x86_64-pc-windows-gnu.dependencies]\n"
"winhttp = \"0.4.0\"\n"
"\n"
"[target.i686-unknown-linux-gnu.dependencies]\n"
"openssl = \"1.0.1\"\n"
"```"
msgstr ""

#: src/reference/specifying-dependencies.md:302
msgid "Custom target specifications"
msgstr ""

#: src/reference/specifying-dependencies.md:304
msgid ""
"If you’re using a custom target specification (such as `--target foo/bar."
"json`), use the base filename without the `.json` extension:"
msgstr ""

#: src/reference/specifying-dependencies.md:307
msgid ""
"```toml\n"
"[target.bar.dependencies]\n"
"winhttp = \"0.4.0\"\n"
"\n"
"[target.my-special-i686-platform.dependencies]\n"
"openssl = \"1.0.1\"\n"
"native = { path = \"native/i686\" }\n"
"```"
msgstr ""

#: src/reference/specifying-dependencies.md:316
msgid ""
"**Note**: Custom target specifications are not usable on the stable channel."
msgstr ""

#: src/reference/specifying-dependencies.md:318
msgid "Development dependencies"
msgstr ""

#: src/reference/specifying-dependencies.md:320
msgid ""
"You can add a `[dev-dependencies]` section to your `Cargo.toml` whose format "
"is equivalent to `[dependencies]`:"
msgstr ""

#: src/reference/specifying-dependencies.md:323
msgid ""
"```toml\n"
"[dev-dependencies]\n"
"tempdir = \"0.3\"\n"
"```"
msgstr ""

#: src/reference/specifying-dependencies.md:328
msgid ""
"Dev-dependencies are not used when compiling a package for building, but are "
"used for compiling tests, examples, and benchmarks."
msgstr ""

#: src/reference/specifying-dependencies.md:332
msgid ""
"These dependencies are _not_ propagated to other packages which depend on "
"this package."
msgstr ""

#: src/reference/specifying-dependencies.md:335
msgid ""
"You can also have target-specific development dependencies by using `dev-"
"dependencies` in the target section header instead of `dependencies`. For "
"example:"
msgstr ""

#: src/reference/specifying-dependencies.md:339
msgid ""
"```toml\n"
"[target.'cfg(unix)'.dev-dependencies]\n"
"mio = \"0.0.1\"\n"
"```"
msgstr ""

#: src/reference/specifying-dependencies.md:344
msgid ""
"**Note**: When a package is published, only dev-dependencies that specify a "
"`version` will be included in the published crate. For most use cases, dev-"
"dependencies are not needed when published, though some users (like OS "
"packagers) may want to run tests within a crate, so providing a `version` if "
"possible can still be beneficial."
msgstr ""

#: src/reference/specifying-dependencies.md:350
msgid "Build dependencies"
msgstr ""

#: src/reference/specifying-dependencies.md:352
msgid ""
"You can depend on other Cargo-based crates for use in your build scripts. "
"Dependencies are declared through the `build-dependencies` section of the "
"manifest:"
msgstr ""

#: src/reference/specifying-dependencies.md:356
msgid ""
"```toml\n"
"[build-dependencies]\n"
"cc = \"1.0.3\"\n"
"```"
msgstr ""

#: src/reference/specifying-dependencies.md:362
msgid ""
"You can also have target-specific build dependencies by using `build-"
"dependencies` in the target section header instead of `dependencies`. For "
"example:"
msgstr ""

#: src/reference/specifying-dependencies.md:366
msgid ""
"```toml\n"
"[target.'cfg(unix)'.build-dependencies]\n"
"cc = \"1.0.3\"\n"
"```"
msgstr ""

#: src/reference/specifying-dependencies.md:371
msgid ""
"In this case, the dependency will only be built when the host platform "
"matches the specified target."
msgstr ""

#: src/reference/specifying-dependencies.md:374
msgid ""
"The build script **does not** have access to the dependencies listed in the "
"`dependencies` or `dev-dependencies` section. Build dependencies will "
"likewise not be available to the package itself unless listed under the "
"`dependencies` section as well. A package itself and its build script are "
"built separately, so their dependencies need not coincide. Cargo is kept "
"simpler and cleaner by using independent dependencies for independent "
"purposes."
msgstr ""

#: src/reference/specifying-dependencies.md:382
msgid "Choosing features"
msgstr ""

#: src/reference/specifying-dependencies.md:384
msgid ""
"If a package you depend on offers conditional features, you can specify "
"which to use:"
msgstr ""

#: src/reference/specifying-dependencies.md:387
msgid ""
"```toml\n"
"[dependencies.awesome]\n"
"version = \"1.3.5\"\n"
"default-features = false # do not include the default features, and "
"optionally\n"
"                         # cherry-pick individual features\n"
"features = [\"secure-password\", \"civet\"]\n"
"```"
msgstr ""

#: src/reference/specifying-dependencies.md:395
msgid ""
"More information about features can be found in the [features chapter]"
"(features.md#dependency-features)."
msgstr ""

#: src/reference/specifying-dependencies.md:398
msgid "Renaming dependencies in `Cargo.toml`"
msgstr ""

#: src/reference/specifying-dependencies.md:400
msgid ""
"When writing a `[dependencies]` section in `Cargo.toml` the key you write "
"for a dependency typically matches up to the name of the crate you import "
"from in the code. For some projects, though, you may wish to reference the "
"crate with a different name in the code regardless of how it's published on "
"crates.io. For example you may wish to:"
msgstr ""

#: src/reference/specifying-dependencies.md:406
msgid "Avoid the need to  `use foo as bar` in Rust source."
msgstr ""

#: src/reference/specifying-dependencies.md:407
msgid "Depend on multiple versions of a crate."
msgstr ""

#: src/reference/specifying-dependencies.md:408
msgid "Depend on crates with the same name from different registries."
msgstr ""

#: src/reference/specifying-dependencies.md:410
msgid ""
"To support this Cargo supports a `package` key in the `[dependencies]` "
"section of which package should be depended on:"
msgstr ""

#: src/reference/specifying-dependencies.md:413
msgid ""
"```toml\n"
"[package]\n"
"name = \"mypackage\"\n"
"version = \"0.0.1\"\n"
"\n"
"[dependencies]\n"
"foo = \"0.1\"\n"
"bar = { git = \"https://github.com/example/project\", package = \"foo\" }\n"
"baz = { version = \"0.1\", registry = \"custom\", package = \"foo\" }\n"
"```"
msgstr ""

#: src/reference/specifying-dependencies.md:424
msgid "In this example, three crates are now available in your Rust code:"
msgstr ""

#: src/reference/specifying-dependencies.md:427
msgid "// crates.io\n"
msgstr ""

#: src/reference/specifying-dependencies.md:428
msgid "// git repository\n"
msgstr ""

#: src/reference/specifying-dependencies.md:429
msgid "// registry `custom`\n"
msgstr ""

#: src/reference/specifying-dependencies.md:432
msgid ""
"All three of these crates have the package name of `foo` in their own `Cargo."
"toml`, so we're explicitly using the `package` key to inform Cargo that we "
"want the `foo` package even though we're calling it something else locally. "
"The `package` key, if not specified, defaults to the name of the dependency "
"being requested."
msgstr ""

#: src/reference/specifying-dependencies.md:438
msgid "Note that if you have an optional dependency like:"
msgstr ""

#: src/reference/specifying-dependencies.md:440
msgid ""
"```toml\n"
"[dependencies]\n"
"bar = { version = \"0.1\", package = 'foo', optional = true }\n"
"```"
msgstr ""

#: src/reference/specifying-dependencies.md:445
msgid ""
"you're depending on the crate `foo` from crates.io, but your crate has a "
"`bar` feature instead of a `foo` feature. That is, names of features take "
"after the name of the dependency, not the package name, when renamed."
msgstr ""

#: src/reference/specifying-dependencies.md:449
msgid ""
"Enabling transitive dependencies works similarly, for example we could add "
"the following to the above manifest:"
msgstr ""
