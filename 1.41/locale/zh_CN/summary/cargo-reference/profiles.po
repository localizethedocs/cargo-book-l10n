msgid ""
msgstr ""
"Project-Id-Version: The Cargo Book\n"
"POT-Creation-Date: 2026-01-24T08:42:16Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Language: zh_CN\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/reference/profiles.md:1
msgid "Profiles"
msgstr ""

#: src/reference/profiles.md:3
msgid ""
"Profiles provide a way to alter the compiler settings, influencing things "
"like optimizations and debugging symbols."
msgstr ""

#: src/reference/profiles.md:6
msgid ""
"Cargo has 4 built-in profiles: `dev`, `release`, `test`, and `bench`. It "
"automatically chooses the profile based on which command is being run, the "
"package and target that is being built, and command-line flags like `--"
"release`. The selection process is [described below](#profile-selection)."
msgstr ""

#: src/reference/profiles.md:11
msgid ""
"Profile settings can be changed in [`Cargo.toml`](manifest.md) with the "
"`[profile]` table. Within each named profile, individual settings can be "
"changed with key/value pairs like this:"
msgstr ""

#: src/reference/profiles.md:21
msgid ""
"Cargo only looks at the profile settings in the `Cargo.toml` manifest at the "
"root of the workspace. Profile settings defined in dependencies will be "
"ignored."
msgstr ""

#: src/reference/profiles.md:25
msgid "Profile settings"
msgstr ""

#: src/reference/profiles.md:27
msgid ""
"The following is a list of settings that can be controlled in a profile."
msgstr ""

#: src/reference/profiles.md:29
msgid "opt-level"
msgstr ""

#: src/reference/profiles.md:31
msgid ""
"The `opt-level` setting controls the [`-C opt-level` flag](../../rustc/"
"codegen-options/index.html#opt-level) which controls the level of "
"optimization. Higher optimization levels may produce faster runtime code at "
"the expense of longer compiler times. Higher levels may also change and "
"rearrange the compiled code which may make it harder to use with a debugger."
msgstr ""

#: src/reference/profiles.md:36 src/reference/profiles.md:62
#: src/reference/profiles.md:79 src/reference/profiles.md:94
#: src/reference/profiles.md:108 src/reference/profiles.md:132
#: src/reference/profiles.md:159
msgid "The valid options are:"
msgstr ""

#: src/reference/profiles.md:38
msgid ""
"`0`: no optimizations, also turns on [`cfg(debug_assertions)`](#debug-"
"assertions)."
msgstr ""

#: src/reference/profiles.md:39
msgid "`1`: basic optimizations"
msgstr ""

#: src/reference/profiles.md:40
msgid "`2`: some optimizations"
msgstr ""

#: src/reference/profiles.md:41
msgid "`3`: all optimizations"
msgstr ""

#: src/reference/profiles.md:42
msgid "`\"s\"`: optimize for binary size"
msgstr ""

#: src/reference/profiles.md:43
msgid ""
"`\"z\"`: optimize for binary size, but also turn off loop vectorization."
msgstr ""

#: src/reference/profiles.md:45
msgid ""
"It is recommended to experiment with different levels to find the right "
"balance for your project. There may be surprising results, such as level `3` "
"being slower than `2`, or the `\"s\"` and `\"z\"` levels not being "
"necessarily smaller. You may also want to reevaluate your settings over time "
"as newer versions of `rustc` changes optimization behavior."
msgstr ""

#: src/reference/profiles.md:51
msgid ""
"See also [Profile Guided Optimization](../../rustc/profile-guided-"
"optimization.html) for more advanced optimization techniques."
msgstr ""

#: src/reference/profiles.md:57
msgid "debug"
msgstr ""

#: src/reference/profiles.md:59
msgid ""
"The `debug` setting controls the [`-C debuginfo` flag](../../rustc/codegen-"
"options/index.html#debuginfo) which controls the amount of debug information "
"included in the compiled binary."
msgstr ""

#: src/reference/profiles.md:64
msgid "`0` or `false`: no debug info at all"
msgstr ""

#: src/reference/profiles.md:65
msgid "`1`: line tables only"
msgstr ""

#: src/reference/profiles.md:66
msgid "`2` or `true`: full debug info"
msgstr ""

#: src/reference/profiles.md:70
msgid "debug-assertions"
msgstr ""

#: src/reference/profiles.md:72
msgid ""
"The `debug-assertions` setting controls the [`-C debug-assertions` flag]"
"(../../rustc/codegen-options/index.html#debug-assertions) which turns "
"`cfg(debug_assertions)` [conditional compilation](../../reference/"
"conditional-compilation.md#debug_assertions) on or off. Debug assertions are "
"intended to include runtime validation which is only available in debug/"
"development builds. These may be things that are too expensive or otherwise "
"undesirable in a release build. Debug assertions enables the [`debug_assert!"
"` macro](../../std/macro.debug_assert.html) in the standard library."
msgstr ""

#: src/reference/profiles.md:81 src/reference/profiles.md:96
#: src/reference/profiles.md:161
msgid "`true`: enabled"
msgstr ""

#: src/reference/profiles.md:82 src/reference/profiles.md:97
#: src/reference/profiles.md:162
msgid "`false`: disabled"
msgstr ""

#: src/reference/profiles.md:88
msgid "overflow-checks"
msgstr ""

#: src/reference/profiles.md:90
msgid ""
"The `overflow-checks` setting controls the [`-C overflow-checks` flag](../../"
"rustc/codegen-options/index.html#overflow-checks) which controls the "
"behavior of [runtime integer overflow](../../reference/expressions/operator-"
"expr.md#overflow). When overflow-checks are enabled, a panic will occur on "
"overflow."
msgstr ""

#: src/reference/profiles.md:102
msgid "lto"
msgstr ""

#: src/reference/profiles.md:104
msgid ""
"The `lto` setting controls the [`-C lto` flag](../../rustc/codegen-options/"
"index.html#lto) which controls LLVM's [link time optimizations](https://llvm."
"org/docs/LinkTimeOptimization.html). LTO can produce better optimized code, "
"using whole-program analysis, at the cost of longer linking time."
msgstr ""

#: src/reference/profiles.md:110
msgid ""
"`false`: Performs \"thin local LTO\" which performs \"thin\" LTO on the "
"local crate only across its [codegen units](#codegen-units). No LTO is "
"performed if codegen units is 1 or [opt-level](#opt-level) is 0."
msgstr ""

#: src/reference/profiles.md:113
msgid ""
"`true` or `\"fat\"`: Performs \"fat\" LTO which attempts to perform "
"optimizations across all crates within the dependency graph."
msgstr ""

#: src/reference/profiles.md:115
msgid ""
"`\"thin\"`: Performs [\"thin\" LTO](http://blog.llvm.org/2016/06/thinlto-"
"scalable-and-incremental-lto.html). This is similar to \"fat\", but takes "
"substantially less time to run while still achieving performance gains "
"similar to \"fat\"."
msgstr ""

#: src/reference/profiles.md:118
msgid "`\"off\"`: Disables LTO."
msgstr ""

#: src/reference/profiles.md:120
msgid ""
"See also the [`-C linker-plugin-lto`](../../rustc/codegen-options/index."
"html#linker-plugin-lto) `rustc` flag for cross-language LTO."
msgstr ""

#: src/reference/profiles.md:127
msgid "panic"
msgstr ""

#: src/reference/profiles.md:129
msgid ""
"The `panic` setting controls the [`-C panic` flag](../../rustc/codegen-"
"options/index.html#panic) which controls which panic strategy to use."
msgstr ""

#: src/reference/profiles.md:134
msgid "`\"unwind\"`: Unwind the stack upon panic."
msgstr ""

#: src/reference/profiles.md:135
msgid "`\"abort\"`: Terminate the process upon panic."
msgstr ""

#: src/reference/profiles.md:137
msgid ""
"When set to `\"unwind\"`, the actual value depends on the default of the "
"target platform. For example, the NVPTX platform does not support unwinding, "
"so it always uses `\"abort\"`."
msgstr ""

#: src/reference/profiles.md:141
msgid ""
"Tests, benchmarks, build scripts, and proc macros ignore the `panic` "
"setting. The `rustc` test harness currently requires `unwind` behavior. See "
"the [`panic-abort-tests`](unstable.md#panic-abort-tests) unstable flag which "
"enables `abort` behavior."
msgstr ""

#: src/reference/profiles.md:145
msgid ""
"Additionally, when using the `abort` strategy and building a test, all of "
"the dependencies will also be forced to built with the `unwind` strategy."
msgstr ""

#: src/reference/profiles.md:151
msgid "incremental"
msgstr ""

#: src/reference/profiles.md:153
msgid ""
"The `incremental` setting controls the [`-C incremental` flag](../../rustc/"
"codegen-options/index.html#incremental) which controls whether or not "
"incremental compilation is enabled. Incremental compilation causes `rustc` "
"to to save additional information to disk which will be reused when "
"recompiling the crate, improving re-compile times. The additional "
"information is stored in the `target` directory."
msgstr ""

#: src/reference/profiles.md:164
msgid ""
"Incremental compilation is only used for workspace members and \"path\" "
"dependencies."
msgstr ""

#: src/reference/profiles.md:167
msgid ""
"The incremental value can be overridden globally with the "
"`CARGO_INCREMENTAL` [environment variable](environment-variables.md) or the "
"[`build.incremental`](config.md#buildincremental) config variable."
msgstr ""

#: src/reference/profiles.md:174
msgid "codegen-units"
msgstr ""

#: src/reference/profiles.md:176
msgid ""
"The `codegen-units` setting controls the [`-C codegen-units` flag](../../"
"rustc/codegen-options/index.html#codegen-units) which controls how many "
"\"code generation units\" a crate will be split into. More code generation "
"units allows more of a crate to be processed in parallel possibly reducing "
"compile time, but may produce slower code."
msgstr ""

#: src/reference/profiles.md:181
msgid "This option takes an integer greater than 0."
msgstr ""

#: src/reference/profiles.md:183
msgid ""
"This option is ignored if [incremental](#incremental) is enabled, in which "
"case `rustc` uses an internal heuristic to split the crate."
msgstr ""

#: src/reference/profiles.md:188
msgid "rpath"
msgstr ""

#: src/reference/profiles.md:190
msgid ""
"The `rpath` setting controlls the [`-C rpath` flag](../../rustc/codegen-"
"options/index.html#rpath) which controls whether or not [`rpath`](https://en."
"wikipedia.org/wiki/Rpath) is enabled."
msgstr ""

#: src/reference/profiles.md:196
msgid "Default profiles"
msgstr ""

#: src/reference/profiles.md:198
msgid "dev"
msgstr ""

#: src/reference/profiles.md:200
msgid ""
"The `dev` profile is used for normal development and debugging. It is the "
"default for build commands like [`cargo build`](../commands/cargo-build.md)."
msgstr ""

#: src/reference/profiles.md:203
msgid "The default settings for the `dev` profile are:"
msgstr ""

#: src/reference/profiles.md:218
msgid "release"
msgstr ""

#: src/reference/profiles.md:220
msgid ""
"The `release` profile is intended for optimized artifacts used for releases "
"and in production. This profile is used when the `--release` flag is used, "
"and is the default for [`cargo install`](../commands/cargo-install.md)."
msgstr ""

#: src/reference/profiles.md:224
msgid "The default settings for the `release` profile are:"
msgstr ""

#: src/reference/profiles.md:239
msgid "test"
msgstr ""

#: src/reference/profiles.md:241
msgid ""
"The `test` profile is used for building tests, or when benchmarks are built "
"in debug mode with `cargo build`."
msgstr ""

#: src/reference/profiles.md:244
msgid "The default settings for the `test` profile are:"
msgstr ""

#: src/reference/profiles.md:259
msgid "bench"
msgstr ""

#: src/reference/profiles.md:261
msgid ""
"The `bench` profile is used for building benchmarks, or when tests are built "
"with the `--release` flag."
msgstr ""

#: src/reference/profiles.md:264
msgid "The default settings for the `bench` profile are:"
msgstr ""

#: src/reference/profiles.md:280
msgid "Profile selection"
msgstr ""

#: src/reference/profiles.md:282
msgid ""
"The profile used depends on the command, the package, the Cargo target, and "
"command-line flags like `--release`."
msgstr ""

#: src/reference/profiles.md:285
msgid ""
"Build commands like [`cargo build`](../commands/cargo-build.md), [`cargo "
"rustc`](../commands/cargo-rustc.md), [`cargo check`](../commands/cargo-check."
"md), and [`cargo run`](../commands/cargo-run.md) default to using the `dev` "
"profile. The `--release` flag may be used to switch to the `release` profile."
msgstr ""

#: src/reference/profiles.md:289
msgid ""
"The [`cargo install`](../commands/cargo-install.md) command defaults to the "
"`release` profile, and may use the `--debug` flag to switch to the `dev` "
"profile."
msgstr ""

#: src/reference/profiles.md:292
msgid ""
"Test targets are built with the `test` profile by default. The `--release` "
"flag switches tests to the `bench` profile."
msgstr ""

#: src/reference/profiles.md:295
msgid ""
"Bench targets are built with the `bench` profile by default. The [`cargo "
"build`](../commands/cargo-build.md) command can be used to build a bench "
"target with the `test` profile to enable debugging."
msgstr ""

#: src/reference/profiles.md:299
msgid ""
"Note that when using the [`cargo test`](../commands/cargo-test.md) and "
"[`cargo bench`](../commands/cargo-bench.md) commands, the `test`/`bench` "
"profiles only apply to the final test executable. Dependencies will continue "
"to use the `dev`/`release` profiles. Also note that when a library is built "
"for unit tests, then the library is built with the `test` profile. However, "
"when building an integration test target, the library target is built with "
"the `dev` profile and linked into the integration test executable."
msgstr ""

#: src/reference/profiles.md:315
msgid "Overrides"
msgstr ""

#: src/reference/profiles.md:317
msgid ""
"Profile settings can be overridden for specific packages and build-time "
"crates. To override the settings for a specific package, use the `package` "
"table to change the settings for the named package:"
msgstr ""

#: src/reference/profiles.md:327
msgid ""
"The package name is actually a [Package ID Spec](pkgid-spec.md), so you can "
"target individual versions of a package with syntax such as `[profile.dev."
"package.\"foo:2.1.0\"]`."
msgstr ""

#: src/reference/profiles.md:331
msgid ""
"To override the settings for all dependencies (but not any workspace "
"member), use the `\"*\"` package name:"
msgstr ""

#: src/reference/profiles.md:334
msgid ""
"```toml\n"
"# Set the default for dependencies.\n"
"[profile.dev.package.\"*\"]\n"
"opt-level = 2\n"
"```"
msgstr ""

#: src/reference/profiles.md:340
msgid ""
"To override the settings for build scripts, proc macros, and their "
"dependencies, use the `build-override` table:"
msgstr ""

#: src/reference/profiles.md:349
msgid ""
"Note: When a dependency is both a normal dependency and a build dependency, "
"Cargo will try to only build it once when `--target` is not specified. When "
"using `build-override`, the dependency may need to be built twice, once as a "
"normal dependency and once with the overridden build settings. This may "
"increase initial build times."
msgstr ""

#: src/reference/profiles.md:355
msgid ""
"The precedence for which value is used is done in the following order (first "
"match wins):"
msgstr ""

#: src/reference/profiles.md:358
msgid "`[profile.dev.package.name]` — A named package."
msgstr ""

#: src/reference/profiles.md:359
msgid "`[profile.dev.package.\"*\"]` — For any non-workspace member."
msgstr ""

#: src/reference/profiles.md:360
msgid ""
"`[profile.dev.build-override]` — Only for build scripts, proc macros, and "
"their dependencies."
msgstr ""

#: src/reference/profiles.md:362
msgid "`[profile.dev]` — Settings in `Cargo.toml`."
msgstr ""

#: src/reference/profiles.md:363
msgid "Default values built-in to Cargo."
msgstr ""

#: src/reference/profiles.md:365
msgid "Overrides cannot specify the `panic`, `lto`, or `rpath` settings."
msgstr ""

#: src/reference/profiles.md:367
msgid "Overrides and generics"
msgstr ""

#: src/reference/profiles.md:369
msgid ""
"The location where generic code is instantiated will influence the "
"optimization settings used for that generic code. This can cause subtle "
"interactions when using profile overrides to change the optimization level "
"of a specific crate. If you attempt to raise the optimization level of a "
"dependency which defines generic functions, those generic functions may not "
"be optimized when used in your local crate. This is because the code may be "
"generated in the crate where it is instantiated, and thus may use the "
"optimization settings of that crate."
msgstr ""

#: src/reference/profiles.md:378
msgid ""
"For example, [nalgebra](https://crates.io/crates/nalgebra) is a library "
"which defines vectors and matrices making heavy use of generic parameters. "
"If your local code defines concrete nalgebra types like `Vector4<f64>` and "
"uses their methods, the corresponding nalgebra code will be instantiated and "
"built within your crate. Thus, if you attempt to increase the optimization "
"level of `nalgebra` using a profile override, it may not result in faster "
"performance."
msgstr ""

#: src/reference/profiles.md:385
msgid ""
"Further complicating the issue, `rustc` has some optimizations where it will "
"attempt to share monomorphized generics between crates. If the opt-level is "
"2 or 3, then a crate will not use monomorphized generics from other crates, "
"nor will it export locally defined monomorphized items to be shared with "
"other crates. When experimenting with optimizing dependencies for "
"development, consider trying opt-level 1, which will apply some "
"optimizations while still allowing monomorphized items to be shared."
msgstr ""
