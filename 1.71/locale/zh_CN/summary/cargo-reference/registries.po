msgid ""
msgstr ""
"Project-Id-Version: The Cargo Book\n"
"POT-Creation-Date: 2026-01-24T08:52:53Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Language: zh_CN\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/reference/registries.md:1
msgid "Registries"
msgstr ""

#: src/reference/registries.md:3
msgid ""
"Cargo installs crates and fetches dependencies from a \"registry\". The "
"default registry is [crates.io](https://crates.io/). A registry contains an "
"\"index\" which contains a searchable list of available crates. A registry "
"may also provide a web API to support publishing new crates directly from "
"Cargo."
msgstr ""

#: src/reference/registries.md:8
msgid ""
"Note: If you are interested in mirroring or vendoring an existing registry, "
"take a look at [Source Replacement](source-replacement.md)."
msgstr ""

#: src/reference/registries.md:11
msgid ""
"If you are implementing a registry server, see [Running a Registry](running-"
"a-registry.md) for more details about the protocol between Cargo and a "
"registry."
msgstr ""

#: src/reference/registries.md:14
msgid "Using an Alternate Registry"
msgstr ""

#: src/reference/registries.md:16
msgid ""
"To use a registry other than [crates.io](https://crates.io/), the name and "
"index URL of the registry must be added to a [`.cargo/config.toml` file]"
"(config.md). The `registries` table has a key for each registry, for example:"
msgstr ""

#: src/reference/registries.md:20
msgid ""
"```toml\n"
"[registries]\n"
"my-registry = { index = \"https://my-intranet:8080/git/index\" }\n"
"```"
msgstr ""

#: src/reference/registries.md:25
msgid ""
"The `index` key should be a URL to a git repository with the registry's "
"index or a Cargo sparse registry URL with the `sparse+` prefix."
msgstr ""

#: src/reference/registries.md:28
msgid ""
"A crate can then depend on a crate from another registry by specifying the "
"`registry` key and a value of the registry's name in that dependency's entry "
"in `Cargo.toml`:"
msgstr ""

#: src/reference/registries.md:32
msgid ""
"```toml\n"
"# Sample Cargo.toml\n"
"[package]\n"
"name = \"my-project\"\n"
"version = \"0.1.0\"\n"
"edition = \"2021\"\n"
"\n"
"[dependencies]\n"
"other-crate = { version = \"1.0\", registry = \"my-registry\" }\n"
"```"
msgstr ""

#: src/reference/registries.md:43
msgid ""
"As with most config values, the index may be specified with an environment "
"variable instead of a config file. For example, setting the following "
"environment variable will accomplish the same thing as defining a config "
"file:"
msgstr ""

#: src/reference/registries.md:47
msgid ""
"```ignore\n"
"CARGO_REGISTRIES_MY_REGISTRY_INDEX=https://my-intranet:8080/git/index\n"
"```"
msgstr ""

#: src/reference/registries.md:51
msgid ""
"Note: [crates.io](https://crates.io/) does not accept packages that depend "
"on crates from other registries."
msgstr ""

#: src/reference/registries.md:54
msgid "Publishing to an Alternate Registry"
msgstr ""

#: src/reference/registries.md:56
msgid ""
"If the registry supports web API access, then packages can be published "
"directly to the registry from Cargo. Several of Cargo's commands such as "
"[`cargo publish`](../commands/cargo-publish.md) take a `--registry` command-"
"line flag to indicate which registry to use. For example, to publish the "
"package in the current directory:"
msgstr ""

#: src/reference/registries.md:61
msgid "`cargo login --registry=my-registry`"
msgstr ""

#: src/reference/registries.md:63
msgid ""
"This only needs to be done once. You must enter the secret API token "
"retrieved from the registry's website. Alternatively the token may be passed "
"directly to the `publish` command with the `--token` command-line flag or an "
"environment variable with the name of the registry such as "
"`CARGO_REGISTRIES_MY_REGISTRY_TOKEN`."
msgstr ""

#: src/reference/registries.md:69
msgid "`cargo publish --registry=my-registry`"
msgstr ""

#: src/reference/registries.md:71
msgid ""
"Instead of always passing the `--registry` command-line option, the default "
"registry may be set in [`.cargo/config.toml`](config.md) with the `registry."
"default` key. For example:"
msgstr ""

#: src/reference/registries.md:75
msgid ""
"```toml\n"
"[registry]\n"
"default = \"my-registry\"\n"
"```"
msgstr ""

#: src/reference/registries.md:80
msgid ""
"Setting the `package.publish` key in the `Cargo.toml` manifest restricts "
"which registries the package is allowed to be published to. This is useful "
"to prevent accidentally publishing a closed-source package to [crates.io]"
"(https://crates.io/). The value may be a list of registry names, for example:"
msgstr ""

#: src/reference/registries.md:85
msgid ""
"```toml\n"
"[package]\n"
"# ...\n"
"publish = [\"my-registry\"]\n"
"```"
msgstr ""

#: src/reference/registries.md:91
msgid ""
"The `publish` value may also be `false` to restrict all publishing, which is "
"the same as an empty list."
msgstr ""

#: src/reference/registries.md:94
msgid ""
"The authentication information saved by [`cargo login`](../commands/cargo-"
"login.md) is stored in the `credentials.toml` file in the Cargo home "
"directory (default `$HOME/.cargo`). It has a separate table for each "
"registry, for example:"
msgstr ""

#: src/reference/registries.md:98
msgid ""
"```toml\n"
"[registries.my-registry]\n"
"token = \"854DvwSlUwEHtIo3kWy6x7UCPKHfzCmy\"\n"
"```"
msgstr ""

#: src/reference/registries.md:103
msgid "Registry Protocols"
msgstr ""

#: src/reference/registries.md:104
msgid ""
"Cargo supports two remote registry protocols: `git` and `sparse`. If the "
"registry index URL starts with `sparse+`, Cargo uses the sparse protocol. "
"Otherwise Cargo uses the `git` protocol."
msgstr ""

#: src/reference/registries.md:108
msgid ""
"The `git` protocol stores index metadata in a git repository and requires "
"Cargo to clone the entire repo."
msgstr ""

#: src/reference/registries.md:111
msgid ""
"The `sparse` protocol fetches individual metadata files using plain HTTP "
"requests. Since Cargo only downloads the metadata for relevant crates, the "
"`sparse` protocol can save significant time and bandwidth."
msgstr ""

#: src/reference/registries.md:115
msgid ""
"The [crates.io](https://crates.io/) registry supports both protocols. The "
"protocol for crates.io is controlled via the [`registries.crates-io."
"protocol`](config.md#registriescrates-ioprotocol) config key."
msgstr ""
